{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAGIC,EAAW,EAmEf,SAASC,EAAcC,EAAUC,GAE/B,OADsBC,KAAKC,SAAW,GAE7BC,QAAQC,QAAQ,CAAEC,SAAAN,EAAUC,UAE9BG,QAAQG,OAAO,CAAED,SAAAN,EAAUC,S,CAvEvBO,SAASC,cAAc,SAE/BC,iBAAiB,UAEtB,SAAsBC,GACpBA,EAAMC,iBAEN,IAAMC,EAAeF,EAAMG,cAAcC,SAEnCd,EAAQY,EAAaZ,MAAMe,MAC3BC,EAAOJ,EAAaI,KAAKD,MACzBE,EAASL,EAAaK,OAAOF,OAMrC,SAA8Bf,EAAOiB,EAAQD,IAQ7C,SAA4BE,EAAUlB,GACpC,IAAMmB,EAASC,YAAW,WACxBtB,EAAcoB,EAAUlB,GACrBqB,MAAK,SAAAC,G,IAAGC,EAAQD,EAARjB,SAAUmB,EAAKF,EAALtB,MACjByB,EAAA9B,GAAS+B,OAAOC,QACd,qBAAoCC,OAAfL,EAAS,QAAYK,OAANJ,EAAM,M,IAG7CK,OAAM,SAAAP,G,IAAGC,EAAQD,EAARjB,SAAUmB,EAAKF,EAALtB,MAClByB,EAAA9B,GAAS+B,OAAOI,QACd,oBAAmCF,OAAfL,EAAS,QAAYK,OAANJ,EAAM,M,MAG9CxB,GACH+B,aAAaZ,E,EApBba,CADAnC,EAAW,EACkBG,GAuB/B,SAA8BA,EAAOiB,EAAQD,GAC3ChB,EAAQiC,OAAOjC,GACf,IAAMmB,EAASe,aAAY,WACV,IAAXjB,GAIJnB,EAAcD,EAAUG,GACrBqB,MAAK,SAAAC,G,IAAGa,EAAQb,EAARjB,SAAUmB,EAAKF,EAALtB,MACjByB,EAAA9B,GAAS+B,OAAOC,QACd,qBAAoCC,OAAfO,EAAS,QAAYP,OAANJ,EAAM,M,IAG7CK,OAAM,SAAAP,G,IAAGc,EAAQd,EAARjB,SAAUmB,EAAKF,EAALtB,MAClByB,EAAA9B,GAAS+B,OAAOI,QACd,oBAAmCF,OAAfQ,EAAS,QAAYR,OAANJ,EAAM,M,IAG/C3B,GAAY,EACZoB,GAAU,EACVjB,GAASiC,OAAOjB,IAhBdqB,cAAclB,E,GAiBfH,E,CA3CHsB,CAAqBtC,EAAOiB,EAAQD,E,CAPpCuB,CAAqBvC,EAAOiB,EAAQD,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport 'notiflix/dist/notiflix-3.2.5.min.css';\n\nlet position = 1;\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  const formElements = event.currentTarget.elements;\n\n  const delay = formElements.delay.value;\n  const step = formElements.step.value;\n  const amount = formElements.amount.value;\n\n  amountFunctionMaking(delay, amount, step);\n}\n\n\nfunction amountFunctionMaking(delay, amount, step) {\n  position = 1;\n  firstDelayFunction(position, delay);\n  stepIntervalFunction(delay, amount, step);\n\n  \n}\n\nfunction firstDelayFunction(position, delay) {\n  const timeId = setTimeout(() => {\n    createPromise(position, delay)\n      .then(({ position, delay }) => {\n        Notiflix.Notify.success(\n          `Fulfilled promise ${position} in ${delay}ms`\n        );\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(\n          `Rejected promise ${position} in ${delay}ms`\n        );\n      });\n  }, delay);\n  clearTimeout(timeId);\n}\n\nfunction stepIntervalFunction(delay, amount, step) {\n  delay = Number(delay);\n  const timeId = setInterval(() => {\n    if (amount === 0) {\n      clearInterval(timeId);\n      return;\n    }\n    createPromise(position, delay)\n      .then(({ position, delay }) => {\n        Notiflix.Notify.success(\n          `Fulfilled promise ${position} in ${delay}ms`\n        );\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(\n          `Rejected promise ${position} in ${delay}ms`\n        );\n      });\n    position += 1;\n    amount -= 1;\n    delay += Number(step);\n  }, step);\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    return Promise.resolve({ position, delay });\n  }\n  return Promise.reject({ position, delay });\n}\n"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$position","$ce04d3a99e08e73b$var$createPromise","position4","delay","Math","random","Promise","resolve","position","reject","document","querySelector","addEventListener","event","preventDefault","formElements","currentTarget","elements","value","step","amount","position1","timeId","setTimeout","then","param","_$position","_$delay","$parcel$interopDefault","Notify","success","concat","catch","failure","clearTimeout","$ce04d3a99e08e73b$var$firstDelayFunction","Number","setInterval","position2","position3","clearInterval","$ce04d3a99e08e73b$var$stepIntervalFunction","$ce04d3a99e08e73b$var$amountFunctionMaking"],"version":3,"file":"03-promises.3b901e88.js.map"}